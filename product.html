<!DOCTYPE html>
<html>
<head>
  <title>QuickBazaar Product</title>
</head>
<body>

<h1>Product Details</h1>
<div id="product"></div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyDdNcqKl5dCXNq-sXcfKZEeEmPT38gMfbI",
  authDomain: "quickbazaar-be247.firebaseapp.com",
  projectId: "quickbazaar-be247"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

const productDiv = document.getElementById("product");

// Demo: fetch first product by known ID (replace with dynamic ID later)
const productId = "PcVAaTcxSjXLx7piY7Zk"; 
const docRef = doc(db, "products", productId);

const docSnap = await getDoc(docRef);
if (docSnap.exists()) {
  const p = docSnap.data();
  productDiv.innerHTML = `
    <h2>${p.name}</h2>
    <img src="${p.imageUrl || 'https://via.placeholder.com/250x150'}" style="width:300px;height:200px;">
    <p>Price: Rs ${p.price}</p>
    <p>Stock: ${p.stock}</p>
    <p>Category: ${p.category}</p>
  `;
} else {
  productDiv.innerHTML = "Product not found";
}
</script>

</body>
</html>
